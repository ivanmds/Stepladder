startup:
  #httpClientAuthentication:
  #  - id: "api_integration_pix"
  #    type: clientCredential
  #    clientId: ""
  #    clientSecret: ""
  #    endpointAuth: ""
  #    valueFrom: declared

  apiSecuret:
    type: basic
    user: admin
    password: 123456
    valueFrom: declared
  
#  connections:
#    kafka:
#      valueFrom:
#    redis:
#      valueFrom:


entrypoints:
  routes:
  - route: "api/test"
    method: post
    enableAnonymous: false
    flowActionId: create_account
    responseMock:
      bodyValue: "{\"codigoRetorno\":\"200\",\"descricaoMensagemRetorno\":\"Ok\"}"
      contentType: "application/json"
      statusCode: 200
  
#  consumers:
#    kafka:
#      - groupId:
#        topicName:
#        actionId: {id}
  

actions:
  - id: "request_google"
    type: httpRequest
    uri: 'https://google.com.br'
    method: get
    #contractMapId:
    #autenticationId: 10
  
#  - id: 2
#    type: kafkaConsumer
#    topicName: 'stepladder.test.request'
#    groupId: ''

## how put condictions between actions
flowActions:
  - id: "create_account"
    actionsId:
      - "request_google"

#contractMaps:
#  - id: 1005
#    # fromName to destinationName separated by :
#    map:
#      - "customer.address.citi:customer.address.city"
#    remove:
#      - "customer.address.country"

                  
#strategies:
#  - cache:
#      id: redisCache_22
#      type: redis

#  - httpIdempotency:
#      id: idemp_55
#      ttl: 60s
#      provider: 
#        type: redis
#        id: redisCache_22
#      mapFields:
#        - "customer.id"

#validations:
#  - id: 8001
#    fields:
#    - name: "customer.name"
#      type: Required
#    - name: "customer.name"
#      type: biggerThen
#      size: 10
